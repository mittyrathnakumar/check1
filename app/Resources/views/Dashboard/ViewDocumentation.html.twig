<div class="text-primary pull-left">This result shows data for <strong>{{ Month }}</strong>.</div><br>
<div class="text-primary"><strong>KPI Definition</strong> - {{ KPIData['SLA_DESC'] }}</div>
<div class="text-primary">Target for this KPI <strong>( {{ KPIData['OPERATOR'] }}{{ KPIData['SLA_VALUE'] }}% )</strong></div>
<div class="text-primary">(Note : Mouse over on red RAG can show the reason.)</div><br>
<div class="row col-md-10">		
	<table class="table-bordered table-condensed" id="dataTable">
		<thead>
			<tr>					
				<th>No.</th>			
				<th>Projectname</th>				
				<th>Document Name</th>
				<th>For Testing</th>
				<th>Document Type</th>
				<th>Delivery Date</th>	
				<th>Sign Off Date</th>		
				<th>Repository Link</th>	
				<th>RAG</th>	
				<th>Cause</th>		
				<th>Action</th>				
			</tr>
		</thead>
		<tbody>			
	    	{% if KPIResults|length > 0 %}
				{% for month, resultArr in KPIResults %}					
					{% if resultArr|length > 0 %}
						{% for row in resultArr %}
							<tr>
							<td>{{ loop.index }}</td>
							<td>{{ row['PROJECTNAME'] }}</td>							
							<td>{{ row['DOCUMENT_NAME'] }}</td>
							<td>{% if row['IS_TESTING'] == 1 %}Yes{% endif %}</td>
							<td>{{ row['DOCUMENT_TYPE'] }}</td>							
							<td>{{ row['DELIVERY_DATE'] }}</td>
							<td>{{ row['SIGN_OFF_DATE'] }}</td>
							<td>{{ row['REPOSITORY_LINK'] }}</td>
							<td {% if row['RedReason'] is defined and row['RedReason'] is not empty %}style="cursor:help" data-toggle="tooltip" data-html="true" title="{{ row['RedReason'] }}"{% endif %} >
							{% if row['RAG'] is defined and row['RAG'] == 'green' %}
								<img src="{{ asset("images/green_RAG.png") }}">
							{% elseif row['RAG'] is defined and row['RAG'] == 'red' %}
								{% set action = 1 %}
								<img src="{{ asset("images/red_RAG.png") }}">
							{% else %}
								<img src="{{ asset("images/na_RAG.png") }}">
							{% endif %}
							</td>
							
							{% if sessionUserRole == MANAGER or sessionUserRole == DELIVERY_MANAGER %}
								{% if action is defined and action == 1 %}							
									<td><span class="cause" title="Click to enter Cause" column="CAUSE" style="cursor:pointer" data-type="textarea" id="cause_{{ loop.index }}">{{ row['CAUSE'] }}</span></td>
									<td><span class="action" title="Click to enter action" column="ACTION" style="cursor:pointer" data-type="textarea" id="action_{{ loop.index }}">{{ row['ACTION'] }}</span></td>
								{% else %}
									<td>N/A</td>
									<td>N/A</td>									
								{% endif %}	
							{% else %}
								<td>N/A</td>						
								<td>N/A</td>						
							{% endif %}
																											
							</tr>	
							<input type="hidden" name="ProjectIDHidden" id="ProjectIDHidden_{{ loop.index }}" value="{{ row['PROJECTNAME'] }}">
						
						{% endfor %}						
					{% else %}
						<tr><td class="text-primary div-center" colspan="10">No data available !!!</td></tr>
					{% endif %}
		    	{% endfor %}
		    {% else %}
		    	<tr><td class="text-primary div-center" colspan="8">No data available !!!</td></tr>
		    {% endif %} 
		    
		</tbody>
	</table>			
</div>